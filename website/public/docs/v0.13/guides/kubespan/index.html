


<!DOCTYPE html>
<html lang="en-us">

<head>
  













<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">




<link rel="canonical" href="https://talos.dev/docs/latest/guides/kubespan/">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://talos.dev/img/logos/longhorn-icon-color.png">
<meta name="twitter:image:alt" content="Talos Linux color logo">



<meta property="og:url" content="https://talos.dev/docs/v0.13/guides/kubespan/">
<meta property="og:title" content="Talos Linux | KubeSpan">

<meta property="og:type" content="article">
<meta property="og:site_name" content="Talos Linux">
<meta property="og:image" content="https://talos.dev/img/logos/longhorn-icon-color.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:alt" content="Talos Linux color logo">
<meta property="og:locale" content="en_US">


<meta name="robots" content="noindex">



  <title>
    
Talos Linux | Documentation

  </title>

  









<link rel="stylesheet" href="/css/style.d4f1ecd1424891e50994bf3612432659314faa7af1abc56b06aca280b90673fb.css" integrity="sha256-1PHs0UJIkeUJlL82EkMmWTFPqnrxq8VrBqyigLkGc/s=">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  <link rel="shortcut icon" type="image/png" sizes="32x32" href="/favicon.png">

</head>
<body>
  





<div class="canvas" id="canvas" x-data="{ drawer: false }">
  







<nav class="navbar is-fixed-top has-shadow" x-data="{ open: false }">
  
    <div class="navbar-brand">
      <a class="navbar-item" href="https://talos.dev">
        <img src="/img/logos/Sidero_horizontal_lightbkgd_RGB.png" alt="Talos Linux navbar logo">
      </a>

      <a role="button" class="navbar-burger" data-target="menu" aria-label="menu" aria-expanded="false" :class="{ 'is-active': open }" @click="open = !open" @click.away="open = false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div class="navbar-menu" id="menu" :class="{ 'is-active': open }">
      <div class="navbar-end">
        <div class="navbar-item is-hidden-touch">
  <p class="control has-icons-left">
    <input class="input is-rounded" type="text" placeholder="Search" id="search-input">
    <span class="icon is-small is-left">
      <ion-icon name="search-outline"></ion-icon>
    </span>
  </p>
</div>


        


<nav class="navbar" role="navigation" aria-label="dropdown navigation">
  <div class="navbar-item has-dropdown is-hoverable">
    <a class="navbar-link is-arrowless" href="/docs/v1.0">
      <span class="has-text-weight-bold">
        Docs
      </span>
      <span class="icon has-text-secondary">
        <ion-icon name="chevron-down-outline"></ion-icon>
      </span>
    </a>

    <div class="navbar-dropdown">
      
      
      
      <a class="navbar-item" href="/docs/v1.0">
        v1.0 (<strong>latest</strong>)
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.14">
        v0.14
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.13">
        v0.13
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.12">
        v0.12
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.11">
        v0.11
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.10">
        v0.10
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.9">
        v0.9
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.8">
        v0.8
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.7">
        v0.7
      </a>
      
      
      
      <a class="navbar-item" href="/docs/v0.6">
        v0.6
      </a>
      
    </div>
  </div>
</nav>


        
        




<a class="navbar-item has-text-weight-bold" href="https://sidero.dev"  target="_blank" >
  <span>
    Sidero Metal
  </span>
</a>





<a class="navbar-item has-text-weight-bold" href="https://github.com/talos-systems/talos"  target="_blank" >
  <span>
    GitHub
  </span>
</a>





<a class="navbar-item has-text-weight-bold" href="https://taloscommunity.slack.com"  target="_blank" >
  <span>
    Slack
  </span>
</a>



        

        <div class="navbar-item">
          



<div class="buttons is-left">
  

  

  
</div>

        </div>
      </div>
    </div>
  
</nav>

  

<nav class="navbar is-black is-hidden-desktop under-nav">
  <div class="navbar-brand">
    <div class="navbar-item is-hidden-desktop">
      <a class="button is-black is-borderless has-text-weight-light" @click="drawer = !drawer">
        <span class="icon">
          <ion-icon name="list"></ion-icon>
        </span>
        <span>
          Docs
        </span>
      </a>
    </div>
  </div>
</nav>


  <div class="dashboard">
    
    <div class="dashboard-panel sidebar is-hidden-touch">
      


<aside class="nav is-sidebar">
  

  
  
  
  
  
  
  
  
  
  
  
  
   
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/">
      Welcome
    </a>

    
  </div>

  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/introduction/">
      Introduction
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/what-is-talos/">
          What is Talos?
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/quickstart/">
          Quickstart
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/getting-started/">
          Getting Started
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/system-requirements/">
          System Requirements
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/what-is-new/">
          What&#39;s New in Talos 0.13
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/support-matrix/">
          Support Matrix
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/bare-metal-platforms/">
      Bare Metal Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/digital-rebar/">
          Digital Rebar
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/equinix-metal/">
          Equinix Metal
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/matchbox/">
          Matchbox
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/sidero/">
          Sidero
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/virtualized-platforms/">
      Virtualized Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/hyper-v/">
          Hyper-V
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/kvm/">
          KVM
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/proxmox/">
          Proxmox
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/vmware/">
          VMware
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/xen/">
          Xen
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/cloud-platforms/">
      Cloud Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/aws/">
          AWS
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/azure/">
          Azure
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/digitalocean/">
          DigitalOcean
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/gcp/">
          GCP
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/hetzner/">
          Hetzner
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/nocloud/">
          Nocloud
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/openstack/">
          Openstack
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/scaleway/">
          Scaleway
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/upcloud/">
          UpCloud
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/vultr/">
          Vultr
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/local-platforms/">
      Local Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/local-platforms/docker/">
          Docker
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/local-platforms/qemu/">
          QEMU
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/local-platforms/virtualbox/">
          VirtualBox
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/single-board-computers/">
      Single Board Computers
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/bananapi_m64/">
          Banana Pi M64
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/libretech_all_h3_cc_h5/">
          Libre Computer Board ALL-H3-CC
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/pine64/">
          Pine64
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/rock64/">
          Pine64 Rock64
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/rockpi_4/">
          Radxa ROCK PI 4c
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/rpi_4/">
          Raspberry Pi 4 Model B
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/guides/">
      Guides
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/advanced-networking/">
          Advanced Networking
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/air-gapped/">
          Air-gapped Environments
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-certificate-authorities/">
          Configuring Certificate Authorities
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-containerd/">
          Configuring Containerd
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-corporate-proxies/">
          Configuring Corporate Proxies
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-network-connectivity/">
          Configuring Network Connectivity
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-pull-through-cache/">
          Configuring Pull Through Cache
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-the-cluster-endpoint/">
          Configuring the Cluster Endpoint
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-wireguard-network/">
          Configuring Wireguard Network
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/customizing-the-kernel/">
          Customizing the Kernel
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/customizing-the-root-filesystem/">
          Customizing the Root Filesystem
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/deploy-metrics-server/">
          Deploying Metrics Server
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/disaster-recovery/">
          Disaster Recovery
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/discovery/">
          Discovery
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/disk-encryption/">
          Disk Encryption
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/editing-machine-configuration/">
          Editing Machine Configuration
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a class="is-active" href="/docs/v0.13/guides/kubespan/">
          KubeSpan
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/managing-pki/">
          Managing PKI
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/resetting-a-machine/">
          Resetting a Machine
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/rbac/">
          Role-based access control (RBAC)
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/storage/">
          Storage
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/troubleshooting-control-plane/">
          Troubleshooting Control Plane
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/upgrading-kubernetes/">
          Upgrading Kubernetes
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/upgrading-talos/">
          Upgrading Talos
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/vip/">
          Virtual (shared) IP
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/reference/">
      Reference
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/reference/kernel/">
          Kernel
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/reference/platform/">
          Platform
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/learn-more/">
      Learn More
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/philosophy/">
          Philosophy
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/concepts/">
          Concepts
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/architecture/">
          Architecture
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/components/">
          Components
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/upgrades/">
          Upgrades
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/faqs/">
          FAQs
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/talosctl/">
          talosctl
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/control-plane/">
          Control Plane
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/controllers-resources/">
          Controllers and Resources
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/networking-resources/">
          Networking Resources
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/discovery/">
          Discovery
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/kubespan/">
          KubeSpan
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</aside>

    </div>

    <div class="dashboard-panel main">
      



<section class="hero is-primary is-medium is-bold">
  <div class="hero-body">
    <div class="container">
      <div class="docs-content">
        <p class="title is-size-2 is-size-3-mobile has-text-weight-bold">
          KubeSpan
        </p>

        
      </div>
      <div class="buttons">
        <a class="button is-small" href="https://github.com/longhorn/website/edit/master/content/docs/v0.13/Guides/kubespan.md" target="_blank">
          <span class="icon">
            <ion-icon name="logo-github"></ion-icon>
          </span>
          <span>
            Edit this page
          </span>
        </a>
      </div>
    </div>
  </div>
</section>

      
<section class="section">
  <div class="container">
    <div class="docs-content">
      <div class="content has-extra-bottom-padding">
        <p>KubeSpan is a feature of Talos that automates the setup and maintenance of a full mesh <a href="https://www.wireguard.com">WireGuard</a> network for your cluster, giving you the ablility to operate hybrid Kubernetes clusters that can span the edge, datacenter, and cloud.
Management of keys and discovery of peers can be completely automated for a zero-touch experience that makes it simple and easy to create hybrid clusters.</p>
<h2 id="video-walkthrough">Video Walkthrough</h2>
<p>To learn more about KubeSpan, see the video below:</p>
<!-- raw HTML omitted -->
<p>To see a live demo of KubeSpan, see one the videos below:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="enabling">Enabling</h2>
<h3 id="creating-a-new-cluster">Creating a New Cluster</h3>
<p>To generate configuration files for a new cluster, we can use the <code>--with-kubespan</code> flag in <code>talosctl gen config</code>.
This will enable peer discovery and KubeSpan.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>    <span style="color:#586e75"># Provides machine specific network configuration options.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">network</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#586e75"># Configures KubeSpan feature.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#268bd2">kubespan</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#268bd2">enabled</span>: <span style="color:#cb4b16">true</span> <span style="color:#586e75"># Enable the KubeSpan feature.</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>    <span style="color:#586e75"># Configures cluster member discovery.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">discovery</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#268bd2">enabled</span>: <span style="color:#cb4b16">true</span> <span style="color:#586e75"># Enable the cluster membership discovery feature.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#586e75"># Configure registries used for cluster member discovery.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#268bd2">registries</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#586e75"># Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information</span>
</span></span><span style="display:flex;"><span>            <span style="color:#268bd2">kubernetes</span>: {}
</span></span><span style="display:flex;"><span>            <span style="color:#586e75"># Service registry is using an external service to push and pull information about cluster members.</span>
</span></span><span style="display:flex;"><span>            <span style="color:#268bd2">service</span>: {}
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Provides cluster specific configuration options.</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">cluster</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">id</span>: yui150Ogam0pdQoNZS2lZR-ihi8EWxNM17bZPktJKKE= <span style="color:#586e75"># Globally unique identifier for this cluster.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">secret</span>: dAmFcyNmDXusqnTSkPJrsgLJ38W8oEEXGZKM0x6Orpc= <span style="color:#586e75"># Shared secret of cluster.</span>
</span></span></code></pre></div><blockquote>
<p>The default discovery service is an external service hosted for free by Sidero Labs.
The default value is <code>https://discovery.talos.dev/</code>.
Contact Sidero Labs if you need to run this service privately.</p>
</blockquote>
<h3 id="upgrading-an-existing-cluster">Upgrading an Existing Cluster</h3>
<p>In order to enable KubeSpan for an existing cluster, upgrade to the latest v0.13.
Once your cluster is upgraded, the configuration of each node must contain the globally unique identifier, the shared secret for the cluster, and have KubeSpan and discovery enabled.</p>
<blockquote>
<p>Note: Discovery can be used without KubeSpan, but KubeSpan requires at least one discovery registry.</p>
</blockquote>
<h4 id="talos-v011-or-less">Talos v0.11 or Less</h4>
<p>If you are migrating from Talos v0.11 or less, we need to generate a cluster ID and secret.</p>
<p>To generate an <code>id</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ openssl rand -base64 <span style="color:#2aa198">32</span>
</span></span><span style="display:flex;"><span>EUsCYz+oHNuBppS51P9aKSIOyYvIPmbZK944PWgiyMQ<span style="color:#719e07">=</span>
</span></span></code></pre></div><p>To generate a <code>secret</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ openssl rand -base64 <span style="color:#2aa198">32</span>
</span></span><span style="display:flex;"><span>AbdsWjY9i797kGglghKvtGdxCsdllX9CemLq+WGVeaw<span style="color:#719e07">=</span>
</span></span></code></pre></div><p>Now, update the configuration of each node with the cluster with the generated <code>id</code> and <code>secret</code>.
You should end up with the addition of something like this (your <code>id</code> and <code>secret</code> should be different):</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#268bd2">cluster</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">id</span>: EUsCYz+oHNuBppS51P9aKSIOyYvIPmbZK944PWgiyMQ=
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">secret</span>: AbdsWjY9i797kGglghKvtGdxCsdllX9CemLq+WGVeaw=
</span></span></code></pre></div><blockquote>
<p>Note: This can be applied in immediate mode (no reboot required) by passing <code>--immediate</code> to either the <code>edit machineconfig</code> or <code>apply-config</code> subcommands.</p>
</blockquote>
<h4 id="talos-v012">Talos v0.12</h4>
<p>Enable <code>kubespan</code> and <code>discovery</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#268bd2">machine</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">network</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">kubespan</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#268bd2">enabled</span>: <span style="color:#cb4b16">true</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">cluster</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">discovery</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">enabled</span>: <span style="color:#cb4b16">true</span>
</span></span></code></pre></div><h2 id="resource-definitions">Resource Definitions</h2>
<h3 id="kubespanidentities">KubeSpanIdentities</h3>
<p>A node&rsquo;s WireGuard identities can be obtained with:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ talosctl get kubespanidentities -o yaml
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>spec:
</span></span><span style="display:flex;"><span>    address: fd83:b1f7:fcb5:2802:8c13:71ff:feaf:7c94/128
</span></span><span style="display:flex;"><span>    subnet: fd83:b1f7:fcb5:2802::/64
</span></span><span style="display:flex;"><span>    privateKey: gNoasoKOJzl+/B+uXhvsBVxv81OcVLrlcmQ5jQwZO08<span style="color:#719e07">=</span>
</span></span><span style="display:flex;"><span>    publicKey: NzW8oeIH5rJyY5lefD9WRoHWWRr/Q6DwsDjMX+xKjT4<span style="color:#719e07">=</span>
</span></span></code></pre></div><p>Talos automatically configures unique IPv6 address for each node in the cluster-specific IPv6 ULA prefix.</p>
<p>Wireguard private key is generated for the node, private key never leaves the node while public key is published through the cluster discovery.</p>
<p><code>KubeSpanIdentity</code> is persisted across reboots and upgrades in <code>STATE</code> partition in the file <code>kubespan-identity.yaml</code>.</p>
<h3 id="kubespanpeerspecs">KubeSpanPeerSpecs</h3>
<p>A node&rsquo;s WireGuard peers can be obtained with:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ talosctl get kubespanpeerspecs
</span></span><span style="display:flex;"><span>ID                                             VERSION   LABEL                    ENDPOINTS
</span></span><span style="display:flex;"><span>06D9QQOydzKrOL7oeLiqHy9OWE8KtmJzZII2A5/FLFI<span style="color:#719e07">=</span>   <span style="color:#2aa198">2</span>         talos-default-master-2   <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;172.20.0.3:51820&#34;</span><span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span>THtfKtfNnzJs1nMQKs5IXqK0DFXmM//0WMY+NnaZrhU<span style="color:#719e07">=</span>   <span style="color:#2aa198">2</span>         talos-default-master-3   <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;172.20.0.4:51820&#34;</span><span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span>nVHu7l13uZyk0AaI1WuzL2/48iG8af4WRv+LWmAax1M<span style="color:#719e07">=</span>   <span style="color:#2aa198">2</span>         talos-default-worker-2   <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;172.20.0.6:51820&#34;</span><span style="color:#719e07">]</span>
</span></span><span style="display:flex;"><span>zXP0QeqRo+CBgDH1uOBiQ8tA+AKEQP9hWkqmkE/oDlc<span style="color:#719e07">=</span>   <span style="color:#2aa198">2</span>         talos-default-worker-1   <span style="color:#719e07">[</span><span style="color:#2aa198">&#34;172.20.0.5:51820&#34;</span><span style="color:#719e07">]</span>
</span></span></code></pre></div><p>The peer ID is the Wireguard public key.
<code>KubeSpanPeerSpecs</code> are built from the cluster discovery data.</p>
<h3 id="kubespanpeerstatuses">KubeSpanPeerStatuses</h3>
<p>The status of a node&rsquo;s WireGuard peers can be obtained with:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ talosctl get kubespanpeerstatuses
</span></span><span style="display:flex;"><span>ID                                             VERSION   LABEL                    ENDPOINT           STATE   RX         TX
</span></span><span style="display:flex;"><span>06D9QQOydzKrOL7oeLiqHy9OWE8KtmJzZII2A5/FLFI<span style="color:#719e07">=</span>   <span style="color:#2aa198">63</span>        talos-default-master-2   172.20.0.3:51820   up      <span style="color:#2aa198">15043220</span>   <span style="color:#2aa198">17869488</span>
</span></span><span style="display:flex;"><span>THtfKtfNnzJs1nMQKs5IXqK0DFXmM//0WMY+NnaZrhU<span style="color:#719e07">=</span>   <span style="color:#2aa198">62</span>        talos-default-master-3   172.20.0.4:51820   up      <span style="color:#2aa198">14573208</span>   <span style="color:#2aa198">18157680</span>
</span></span><span style="display:flex;"><span>nVHu7l13uZyk0AaI1WuzL2/48iG8af4WRv+LWmAax1M<span style="color:#719e07">=</span>   <span style="color:#2aa198">60</span>        talos-default-worker-2   172.20.0.6:51820   up      <span style="color:#2aa198">130072</span>     <span style="color:#2aa198">46888</span>
</span></span><span style="display:flex;"><span>zXP0QeqRo+CBgDH1uOBiQ8tA+AKEQP9hWkqmkE/oDlc<span style="color:#719e07">=</span>   <span style="color:#2aa198">60</span>        talos-default-worker-1   172.20.0.5:51820   up      <span style="color:#2aa198">130044</span>     <span style="color:#2aa198">46556</span>
</span></span></code></pre></div><p>KubeSpan peer status includes following information:</p>
<ul>
<li>the actual endpoint used for peer communication</li>
<li>link state:
<ul>
<li><code>unknown</code>: the endpoint was just changed, link state is not known yet</li>
<li><code>up</code>: there is a recent handshake from the peer</li>
<li><code>down</code>: there is no handshake from the peer</li>
</ul>
</li>
<li>number of bytes sent/received over the Wireguard link with the peer</li>
</ul>
<p>If the connection state goes <code>down</code>, Talos will be cycling through the available endpoints until it finds the one which works.</p>
<p>Peer status information is updated every 30 seconds.</p>
<h3 id="kubespanendpoints">KubeSpanEndpoints</h3>
<p>A node&rsquo;s WireGuard endpoints (peer addresses) can be obtained with:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ talosctl get kubespanendpoints
</span></span><span style="display:flex;"><span>ID                                             VERSION   ENDPOINT           AFFILIATE ID
</span></span><span style="display:flex;"><span>06D9QQOydzKrOL7oeLiqHy9OWE8KtmJzZII2A5/FLFI<span style="color:#719e07">=</span>   <span style="color:#2aa198">1</span>         172.20.0.3:51820   2VfX3nu67ZtZPl57IdJrU87BMjVWkSBJiL9ulP9TCnF
</span></span><span style="display:flex;"><span>THtfKtfNnzJs1nMQKs5IXqK0DFXmM//0WMY+NnaZrhU<span style="color:#719e07">=</span>   <span style="color:#2aa198">1</span>         172.20.0.4:51820   b3DebkPaCRLTLLWaeRF1ejGaR0lK3m79jRJcPn0mfA6C
</span></span><span style="display:flex;"><span>nVHu7l13uZyk0AaI1WuzL2/48iG8af4WRv+LWmAax1M<span style="color:#719e07">=</span>   <span style="color:#2aa198">1</span>         172.20.0.6:51820   NVtfu1bT1QjhNq5xJFUZl8f8I8LOCnnpGrZfPpdN9WlB
</span></span><span style="display:flex;"><span>zXP0QeqRo+CBgDH1uOBiQ8tA+AKEQP9hWkqmkE/oDlc<span style="color:#719e07">=</span>   <span style="color:#2aa198">1</span>         172.20.0.5:51820   6EVq8RHIne03LeZiJ60WsJcoQOtttw1ejvTS6SOBzhUA
</span></span></code></pre></div><p>The endpoint ID is the base64 encoded WireGuard public key.</p>
<p>The observed endpoints are submitted back to the discovery service (if enabled) so that other peers can try additional endpoints to establish the connection.</p>

      </div>
    </div>
  </div>
</section>


      
<section class="section">
  <div class="container">
    <nav class="pagination" role="navigation" aria-label="pagination">
      
      <a class="pagination-previous has-text-white has-background-primary" href="/docs/v0.13/guides/editing-machine-configuration/">
        <span class="icon">
          <ion-icon name="arrow-back-outline"></ion-icon>
        </span>
        <span>
          Editing Machine Configuration
        </span>
      </a>
      

      
      <a class="pagination-next has-text-white has-background-primary" href="/docs/v0.13/guides/managing-pki/">
        <span>
          Managing PKI
        </span>

        <span class="icon">
          <ion-icon name="arrow-forward-outline"></ion-icon>
        </span>
      </a>
      
    </nav>
  </div>
</section>


      






<section class="hero">
  <div class="hero-body">
    <div class="container">
      <hr />

      <p class="has-text-weight-light">
        &copy; 2019-2022 Longhorn Authors | Documentation Distributed under CC-BY-4.0
      </p>

      <br />

      <p class="has-text-weight-light">
        &copy; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/" target="_blank">Trademark Usage</a> page.
      </p>
    </div>
  </div>
</section>

    </div>
    
  </div>

  
<div class="drawer" :class="{ 'is-visible': drawer }">
  


<aside class="nav is-drawer">
  
  <span class="icon is-hoverable" @click="drawer = !drawer">
    <ion-icon size="large" name="close-circle-outline"></ion-icon>
  </span>
  

  
  
  
  
  
  
  
  
  
  
  
  
   
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/">
      Welcome
    </a>

    
  </div>

  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/introduction/">
      Introduction
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/what-is-talos/">
          What is Talos?
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/quickstart/">
          Quickstart
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/getting-started/">
          Getting Started
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/system-requirements/">
          System Requirements
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/what-is-new/">
          What&#39;s New in Talos 0.13
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/introduction/support-matrix/">
          Support Matrix
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/bare-metal-platforms/">
      Bare Metal Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/digital-rebar/">
          Digital Rebar
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/equinix-metal/">
          Equinix Metal
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/matchbox/">
          Matchbox
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/bare-metal-platforms/sidero/">
          Sidero
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/virtualized-platforms/">
      Virtualized Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/hyper-v/">
          Hyper-V
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/kvm/">
          KVM
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/proxmox/">
          Proxmox
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/vmware/">
          VMware
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/virtualized-platforms/xen/">
          Xen
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/cloud-platforms/">
      Cloud Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/aws/">
          AWS
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/azure/">
          Azure
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/digitalocean/">
          DigitalOcean
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/gcp/">
          GCP
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/hetzner/">
          Hetzner
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/nocloud/">
          Nocloud
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/openstack/">
          Openstack
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/scaleway/">
          Scaleway
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/upcloud/">
          UpCloud
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/cloud-platforms/vultr/">
          Vultr
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/local-platforms/">
      Local Platforms
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/local-platforms/docker/">
          Docker
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/local-platforms/qemu/">
          QEMU
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/local-platforms/virtualbox/">
          VirtualBox
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/single-board-computers/">
      Single Board Computers
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/bananapi_m64/">
          Banana Pi M64
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/libretech_all_h3_cc_h5/">
          Libre Computer Board ALL-H3-CC
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/pine64/">
          Pine64
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/rock64/">
          Pine64 Rock64
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/rockpi_4/">
          Radxa ROCK PI 4c
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/single-board-computers/rpi_4/">
          Raspberry Pi 4 Model B
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/guides/">
      Guides
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/advanced-networking/">
          Advanced Networking
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/air-gapped/">
          Air-gapped Environments
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-certificate-authorities/">
          Configuring Certificate Authorities
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-containerd/">
          Configuring Containerd
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-corporate-proxies/">
          Configuring Corporate Proxies
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-network-connectivity/">
          Configuring Network Connectivity
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-pull-through-cache/">
          Configuring Pull Through Cache
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-the-cluster-endpoint/">
          Configuring the Cluster Endpoint
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/configuring-wireguard-network/">
          Configuring Wireguard Network
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/customizing-the-kernel/">
          Customizing the Kernel
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/customizing-the-root-filesystem/">
          Customizing the Root Filesystem
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/deploy-metrics-server/">
          Deploying Metrics Server
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/disaster-recovery/">
          Disaster Recovery
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/discovery/">
          Discovery
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/disk-encryption/">
          Disk Encryption
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/editing-machine-configuration/">
          Editing Machine Configuration
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a class="is-active" href="/docs/v0.13/guides/kubespan/">
          KubeSpan
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/managing-pki/">
          Managing PKI
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/resetting-a-machine/">
          Resetting a Machine
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/rbac/">
          Role-based access control (RBAC)
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/storage/">
          Storage
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/troubleshooting-control-plane/">
          Troubleshooting Control Plane
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/upgrading-kubernetes/">
          Upgrading Kubernetes
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/upgrading-talos/">
          Upgrading Talos
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/guides/vip/">
          Virtual (shared) IP
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/reference/">
      Reference
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/reference/kernel/">
          Kernel
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/reference/platform/">
          Platform
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  <div class="nav-section">
    <a class="nav-section-title" href="/docs/v0.13/learn-more/">
      Learn More
    </a>

    
    <ul class="nav-section-pages">
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/philosophy/">
          Philosophy
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/concepts/">
          Concepts
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/architecture/">
          Architecture
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/components/">
          Components
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/upgrades/">
          Upgrades
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/faqs/">
          FAQs
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/talosctl/">
          talosctl
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/control-plane/">
          Control Plane
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/controllers-resources/">
          Controllers and Resources
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/networking-resources/">
          Networking Resources
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/discovery/">
          Discovery
        </a>
      </li>
      
      
      <li class="nav-section-pages-link">
        <a href="/docs/v0.13/learn-more/kubespan/">
          KubeSpan
        </a>
      </li>
      
    </ul>
    

    
  </div>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</aside>

</div>

</div>


  
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.2.5/dist/alpine.min.js" defer></script>

<script type="module" src="https://unpkg.com/ionicons@5.0.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule="" src="https://unpkg.com/ionicons@5.0.0/dist/ionicons/ionicons.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="/js/jquery.matchHeight.js"></script>
<script src="/js/scripts.js"></script>

<script>
  anchors.options = {
    icon: '#'
  }

  document.addEventListener('DOMContentLoaded', function(event) {
    anchors.add('.content h1, .content h2, .content h3, .content h4, .content h5, .content h6');
  });
</script>


<script>
  const navbarHeight = document.getElementsByClassName('navbar')[0].offsetHeight;
  const extraPadding = 15;
  const navbarOffset = -1 * (navbarHeight + extraPadding);
  var shiftWindow = function() { scrollBy(0, navbarOffset) };
  window.addEventListener("hashchange", shiftWindow);
  window.addEventListener("pageshow", shiftWindow);
  function load() { if (window.location.hash) shiftWindow(); }
</script>



<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  docsearch({
    apiKey: '3c4082e162be342fa20a794144b4a479',
    indexName: 'longhorn',
    inputSelector: '#search-input',
    algoliaOptions: { 'facetFilters': ["version:v0.13"] },
    debug: false
  });
</script>

  </body>

</html>
